if(null!==document.getElementById("wcs-builder-app")){Vue.component("control-switch",{template:"#wcs_templates_switch",model:{prop:"checked",event:"change"},mounted:function(){void 0!==this.description&&jQuery(this.$el).tooltip({direction:"left"})},props:["value","title","name","description"],methods:{updateModelValue:function(t){this.$emit("change",t.target.checked)},filter_var:function(t){return-1!==["1","true","on","yes",!0,1].indexOf(t)}}}),Vue.component("control-group",{template:"#wcs_templates_group",model:{prop:"checked",event:"change"},props:["value","title","name","description","options"],methods:{updateModelValue:function(t){this.$emit("change",t.target.value)}}}),Vue.component("control-select",{template:"#wcs_templates_select",model:{prop:"checked",event:"change"},props:["value","title","name","description","options"],methods:{updateModelValue:function(t){this.$emit("change",t.target.value)}}}),Vue.component("control-text",{template:"#wcs_templates_text",props:["value","title","name","description","placeholder"],methods:{updateModelValue:function(t){this.$emit("input",t.target.value)}}}),Vue.component("control-color",{template:"#wcs_templates_color",props:["value","title","name","description","color"],methods:{updateModelValue:function(t){this.$emit("input",t.target.value)}},mounted:function(){var t=this;jQuery(".wp-color-picker-field",t.$el).wpColorPicker({change:function(e,i){t.$emit("input",i.color.toString())},clear:function(e,i){t.$emit("input","")}})}}),Vue.component("control-datepicker",{template:"#wcs_templates_datepicker",props:["value","title","name","description","options"],methods:{clearValue:function(){this.$emit("input","")}},mounted:function(){var t=this,e=t.$el.getElementsByClassName("wcs_datepicker");jQuery(e[0]).datepicker({dateFormat:"yy-mm-dd",defaultDate:t.value,changeMonth:!0,changeYear:!0,onSelect:function(e){t.$emit("input",e)},maxDate:-1,firstDay:t.options.firstDay,monthNames:t.options.monthNames,monthNamesShort:t.options.monthNamesShort,dayNames:t.options.dayNames,dayNamesShort:t.options.dayNamesShort,dayNamesMin:t.options.dayNamesMin})}}),Vue.component("control-slider",{template:"#wcs_templates_slider",props:["value","title","name","description","attributes"],methods:{updateModelValue:function(t){this.$emit("input",t.target.value)}},computed:{prefix:function(){return this.attributes.pref},suffix:function(){var t="";return"object"==typeof this.attributes.suf?void 0!==this.attributes.suf.zero&&0==this.value?t=this.attributes.suf.zero:void 0!==this.attributes.suf.one&&1==this.value?t=this.attributes.suf.one:void 0!==this.attributes.suf.many&&this.value>1?t=this.attributes.suf.many:void 0!==this.attributes.suf.many?t=this.attributes.suf.many:void 0!==this.attributes.suf.zero?t=this.attributes.suf.zero:void 0!==this.attributes.suf.one&&(t=this.attributes.suf.one):"string"==typeof this.attributes.suf&&(t=this.attributes.suf),t}},mounted:function(){var t=this;jQuery(".wcs_slider",this.$el).slider({min:this.attributes.min,max:this.attributes.max,step:this.attributes.step,value:this.value,slide:function(e,i){jQuery(this).siblings("input[type=hidden]").val(),t.$emit("input",i.value)}})}});var wcs_builder_app=new Vue({el:"#wcs-builder-app",data:function(){var t={view:void 0!==wcs_timetable_data.view?parseInt(wcs_timetable_data.view):0,days:void 0!==wcs_timetable_data.days?parseInt(wcs_timetable_data.days):7,limit:void 0!==wcs_timetable_data.limit?parseInt(wcs_timetable_data.limit):0,title:void 0!==wcs_timetable_data.title&&wcs_timetable_data.title.length>0?wcs_timetable_data.title:"",content:void 0!==wcs_timetable_data.content?wcs_timetable_data.content:{},filters:void 0!==wcs_timetable_data.filters?wcs_timetable_data.filters:{},single:void 0!==wcs_timetable_data.single?wcs_timetable_data.single:""};t.id=wcs_timetable_data.id;var e={view:void 0!==wcs_timetable_data.view?parseInt(wcs_timetable_data.view):0,content:"wcs_type",filters:"wcs_type",design:"general"};for(var i in wcs_taxonomies)t.content[i]=void 0!==wcs_timetable_data.content&&void 0!==wcs_timetable_data.content[i]?wcs_timetable_data.content[i]:[],t.filters[i]=void 0!==wcs_timetable_data.filters&&void 0!==wcs_timetable_data.filters[i]?wcs_timetable_data.filters[i]:[],t["label_"+i]=void 0!==wcs_timetable_data["label_"+i]?wcs_timetable_data["label_"+i]:"",t["label_filter_"+i]=void 0!==wcs_timetable_data["label_filter_"+i]?wcs_timetable_data["label_filter_"+i]:"",t["show_"+i]=void 0!==wcs_timetable_data["show_"+i]?wcs_timetable_data["show_"+i]:[],t["show_filter_"+i]=void 0!==wcs_timetable_data["show_filter_"+i]?wcs_timetable_data["show_filter_"+i]:[],t["show_modal_"+i]=void 0!==wcs_timetable_data["show_modal_"+i]?wcs_timetable_data["show_modal_"+i]:[];var s={};for(var o in wcs_builder.sections.style.options){for(var a in wcs_builder.sections.style.options[o].labels)wcs_builder.sections.labels.options.unshift(wcs_builder.sections.style.options[o].labels[a]),wcs_conditions[wcs_builder.sections.style.options[o].labels[a].id]={relation:"AND",conditions:[["view","==",wcs_builder.sections.style.options[o].value]]};var n=wcs_builder.sections.style.options[o].options;for(var c in n){var l=wcs_builder.sections.style.options[o].options[c].id;t[l]=void 0!==wcs_timetable_data[l]?wcs_timetable_data[l]:wcs_builder.sections.style.options[o].options[c].value,void 0===wcs_conditions[l]&&(wcs_conditions[l]={relation:"AND",conditions:[["view","==",wcs_builder.sections.style.options[o].value]]})}void 0!==wcs_builder.sections.style.options[o].colors&&(wcs_builder.sections.design.options.push({label:wcs_builder.sections.style.options[o].title,id:wcs_builder.sections.style.options[o].slug,colors:wcs_builder.sections.style.options[o].colors}),wcs_conditions["tab_colors_"+wcs_builder.sections.style.options[o].slug]={relation:"AND",conditions:[["view","==",wcs_builder.sections.style.options[o].value]]}),wcs_conditions["section_side_"+o]={relation:"AND",conditions:[["view","==",o]]}}for(var c in wcs_builder.sections.display.options){var l=wcs_builder.sections.display.options[c].id;t[l]=void 0!==wcs_timetable_data[l]?wcs_timetable_data[l]:wcs_builder.sections.display.options[c].default}for(var c in wcs_builder.sections.filters_options.options){var l=wcs_builder.sections.filters_options.options[c].id;t[l]=void 0!==wcs_timetable_data[l]?wcs_timetable_data[l]:wcs_builder.sections.filters_options.options[c].default}for(var c in wcs_builder.sections.modal.options){var l=wcs_builder.sections.modal.options[c].id;t[l]=void 0!==wcs_timetable_data[l]?wcs_timetable_data[l]:wcs_builder.sections.modal.options[c].default}for(var r in wcs_builder.sections.design.options)for(var c in wcs_builder.sections.design.options[r].colors){var l=wcs_builder.sections.design.options[r].colors[c].id;t[l]=void 0!==wcs_timetable_data[l]?wcs_timetable_data[l]:wcs_builder.sections.design.options[r].colors[c].default}for(var a in wcs_builder.sections.labels.options){var l=wcs_builder.sections.labels.options[a].id,d=void 0!==wcs_builder.sections.labels.options[a].default?wcs_builder.sections.labels.options[a].default:"";t[l]=void 0!==wcs_timetable_data[l]?wcs_timetable_data[l]:d}return{default_data:{},builder:wcs_builder,timetable:wcs_timetable_data,taxonomies:wcs_taxonomies,posts:wcs_posts,form:t,tabs:e,conditions:wcs_conditions,side_options:s,loading:!1,ladda:!1,notification:{show:!1,success:!1,message:""}}},mounted:function(){console.log(this.conditions),this.ladda=Ladda.create(document.getElementById("save")),jQuery(".clipboard-text").tooltip({direction:"left"}),new Clipboard(".clipboard-text").on("success",function(t){var e=t.text;jQuery(".clipboard-text").text(t.trigger.dataset.clipboardSuccess),jQuery(".clipboard-text").addClass("success"),setTimeout(function(){jQuery(".clipboard-text").text(e),jQuery(".clipboard-text").removeClass("success")},4e3)})},methods:{isTaxSelected:function(t,e){return"";return void 0===t.term_id?"":void 0===this.form.content[e]?"":this.form.content[e].indexOf(String(t.term_id))>=0||this.form.content[e].indexOf(t.term_id)>=0?"selected":""},startLoader:function(){this.loading=!0,this.ladda.start()},stopLoader:function(){this.loading=!1,this.ladda.stop()},updateSchedule:function(){this.startLoader(),this.$http.post(ajaxurl,this.form,{emulateJSON:!0,params:{action:"wcs_update_schedule",wp_nonce:wcs_builder_nonce}}).then(this.responseSuccess,this.responseError)},responseSuccess:function(t){this.loading&&this.stopLoader(),!0===t.body.success?(this.form.id=this.form.id==t.body.data.id?this.form.id:t.body.data.id,this.showNotificationSuccess(t.body)):this.showNotificationError(t.body)},responseError:function(t){this.loading&&this.stopLoader(),this.showNotificationError(response.body)},showNotificationSuccess:function(t){var e=this;e.notification={show:!0,success:!0,message:t.data.id==e.form.id?e.builder.notifications.updated:e.builder.notifications.created},setTimeout(function(){e.notification.show=!1},5e3)},showNotificationError:function(t){var e=this;e.notification={show:!0,success:!1,message:this.builder.notifications.error},setTimeout(function(){e.notification.show=!1},5e3)},filter_var:function(t){return-1!==["1","true","on","yes",!0,1].indexOf(t)},updateModel:function(t){},isChecked:function(t,e){return t===e},inList:function(t,e){return e.indexOf(t)>=0},isVisible:function(t){var e=this,i=!0;if(void 0!==this.conditions[t]){var s=[];this.conditions[t].conditions.forEach(function(t,i){switch(!0){case"=="===t[1]:s.push(e.form[t[0]]==t[2]);break;case"!="===t[1]:s.push(e.form[t[0]]!=t[2]);break;case"not_in_array"===t[1]:s.push(t[2].indexOf(e.form[t[0]])<0);break;case"in_array"===t[1]:s.push(t[2].indexOf(e.form[t[0]])>=0);break;case"is_true"===t[1]:s.push(!!e.filter_var(e.form[t[0]]));break}}),i="OR"===this.conditions[t].relation?s.indexOf(!0)>=0:!(s.indexOf(!1)>=0)}return i},isFieldVisible:function(t){var e=!0;return!0},isSectionVisible:function(t){var e=this,i=!0;return!0},changeView:function(t,e){var i=this;i.tabs.design=i.tabs.design===t.slug?i.tabs.design:"general"}}})}