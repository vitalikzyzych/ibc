!function(t,e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Spinner=e()}(this,function(){"use strict";function t(t,e){var s,i=document.createElement(t||"div");for(s in e)i[s]=e[s];return i}function e(t){for(var e=1,s=arguments.length;s>e;e++)t.appendChild(arguments[e]);return t}function s(t,e,s,i){var a=["opacity",e,~~(100*t),s,i].join("-"),n=.01+s/i*100,o=Math.max(1-(1-t)/e*(100-n),t),r=c.substring(0,c.indexOf("Animation")).toLowerCase(),l=r&&"-"+r+"-"||"";return u[a]||(h.insertRule("@"+l+"keyframes "+a+"{0%{opacity:"+o+"}"+n+"%{opacity:"+t+"}"+(n+.01)+"%{opacity:1}"+(n+e)%100+"%{opacity:"+t+"}100%{opacity:"+o+"}}",h.cssRules.length),u[a]=1),a}function i(t,e){var s,i,a=t.style;for(e=e.charAt(0).toUpperCase()+e.slice(1),i=0;d.length>i;i++)if(s=d[i]+e,void 0!==a[s])return s;return void 0!==a[e]?e:void 0}function a(t,e){for(var s in e)t.style[i(t,s)||s]=e[s];return t}function n(t){for(var e=1;arguments.length>e;e++){var s=arguments[e];for(var i in s)void 0===t[i]&&(t[i]=s[i])}return t}function o(t,e){return"string"==typeof t?t:t[e%t.length]}function r(t){this.opts=n(t||{},r.defaults,m)}function l(){function s(e,s){return t("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',s)}h.addRule(".spin-vml","behavior:url(#default#VML)"),r.prototype.lines=function(t,i){function n(){return a(s("group",{coordsize:d+" "+d,coordorigin:-c+" "+-c}),{width:d,height:d})}function r(t,r,l){e(h,e(a(n(),{rotation:360/i.lines*t+"deg",left:~~r}),e(a(s("roundrect",{arcsize:i.corners}),{width:c,height:i.width,left:i.radius,top:-i.width>>1,filter:l}),s("fill",{color:o(i.color,t),opacity:i.opacity}),s("stroke",{opacity:0}))))}var l,c=i.length+i.width,d=2*c,u=2*-(i.width+i.length)+"px",h=a(n(),{position:"absolute",top:u,left:u});if(i.shadow)for(l=1;i.lines>=l;l++)r(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;i.lines>=l;l++)r(l);return e(t,h)},r.prototype.opacity=function(t,e,s,i){var a=t.firstChild;i=i.shadow&&i.lines||0,a&&a.childNodes.length>e+i&&(a=a.childNodes[e+i],a=a&&a.firstChild,(a=a&&a.firstChild)&&(a.opacity=s))}}var c,d=["webkit","Moz","ms","O"],u={},h=function(){var s=t("style",{type:"text/css"});return e(document.getElementsByTagName("head")[0],s),s.sheet||s.styleSheet}(),m={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};r.defaults={},n(r.prototype,{spin:function(e){this.stop();var s=this,i=s.opts,n=s.el=a(t(0,{className:i.className}),{position:i.position,width:0,zIndex:i.zIndex});if(i.radius,i.length,i.width,a(n,{left:i.left,top:i.top}),e&&e.insertBefore(n,e.firstChild||null),n.setAttribute("role","progressbar"),s.lines(n,s.opts),!c){var o,r=0,l=(i.lines-1)*(1-i.direction)/2,d=i.fps,u=d/i.speed,h=(1-i.opacity)/(u*i.trail/100),m=u/i.lines;!function t(){r++;for(var e=0;i.lines>e;e++)o=Math.max(1-(r+(i.lines-e)*m)%u*h,i.opacity),s.opacity(n,e*i.direction+l,o,i);s.timeout=s.el&&setTimeout(t,~~(1e3/d))}()}return s},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=void 0),this},lines:function(i,n){function r(e,s){return a(t(),{position:"absolute",width:n.length+n.width+"px",height:n.width+"px",background:e,boxShadow:s,transformOrigin:"left",transform:"rotate("+~~(360/n.lines*d+n.rotate)+"deg) translate("+n.radius+"px,0)",borderRadius:(n.corners*n.width>>1)+"px"})}for(var l,d=0,u=(n.lines-1)*(1-n.direction)/2;n.lines>d;d++)l=a(t(),{position:"absolute",top:1+~(n.width/2)+"px",transform:n.hwaccel?"translate3d(0,0,0)":"",opacity:n.opacity,animation:c&&s(n.opacity,n.trail,u+d*n.direction,n.lines)+" "+1/n.speed+"s linear infinite"}),n.shadow&&e(l,a(r("#000","0 0 4px #000"),{top:"2px"})),e(i,e(l,r(o(n.color,d),"0 0 1px rgba(0,0,0,.1)")));return i},opacity:function(t,e,s){t.childNodes.length>e&&(t.childNodes[e].style.opacity=s)}});var p=a(t("group"),{behavior:"url(#default#VML)"});return!i(p,"transform")&&p.adj?l():c=i(p,"animation"),r}),function(t,e){"object"==typeof exports?module.exports=e(require("spin.js")):"function"==typeof define&&define.amd?define(["spin"],e):t.Ladda=e(t.Spinner)}(this,function(t){"use strict";function e(t){if(void 0===t)return void console.warn("Ladda button target must be defined.");if(/ladda-button/i.test(t.className)||(t.className+=" ladda-button"),t.hasAttribute("data-style")||t.setAttribute("data-style","expand-right"),!t.querySelector(".ladda-label")){var e=document.createElement("span");e.className="ladda-label",l(t,e)}var s,i=t.querySelector(".ladda-spinner");i||(i=document.createElement("span"),i.className="ladda-spinner"),t.appendChild(i);var a,n={start:function(){return s||(s=o(t)),t.setAttribute("disabled",""),t.setAttribute("data-loading",""),clearTimeout(a),s.spin(i),this.setProgress(0),this},startAfter:function(t){return clearTimeout(a),a=setTimeout(function(){n.start()},t),this},stop:function(){return t.removeAttribute("disabled"),t.removeAttribute("data-loading"),clearTimeout(a),s&&(a=setTimeout(function(){s.stop()},1e3)),this},toggle:function(){return this.isLoading()?this.stop():this.start(),this},setProgress:function(e){e=Math.max(Math.min(e,1),0);var s=t.querySelector(".ladda-progress");0===e&&s&&s.parentNode?s.parentNode.removeChild(s):(s||(s=document.createElement("div"),s.className="ladda-progress",t.appendChild(s)),s.style.width=(e||0)*t.offsetWidth+"px")},enable:function(){return this.stop(),this},disable:function(){return this.stop(),t.setAttribute("disabled",""),this},isLoading:function(){return t.hasAttribute("data-loading")},remove:function(){clearTimeout(a),t.removeAttribute("disabled",""),t.removeAttribute("data-loading",""),s&&(s.stop(),s=null);for(var e=0,i=c.length;i>e;e++)if(n===c[e]){c.splice(e,1);break}}};return c.push(n),n}function s(t,e){for(;t.parentNode&&t.tagName!==e;)t=t.parentNode;return e===t.tagName?t:void 0}function i(t){for(var e=["input","textarea","select"],s=[],i=0;e.length>i;i++)for(var a=t.getElementsByTagName(e[i]),n=0;a.length>n;n++)a[n].hasAttribute("required")&&s.push(a[n]);return s}function a(t,a){a=a||{};var n=[];"string"==typeof t?n=r(document.querySelectorAll(t)):"object"==typeof t&&"string"==typeof t.nodeName&&(n=[t]);for(var o=0,l=n.length;l>o;o++)!function(){var t=n[o];if("function"==typeof t.addEventListener){var r=e(t),l=-1;t.addEventListener("click",function(){var e=!0,n=s(t,"FORM");if(void 0!==n)for(var o=i(n),c=0;o.length>c;c++)""===o[c].value.replace(/^\s+|\s+$/g,"")&&(e=!1),"checkbox"!==o[c].type&&"radio"!==o[c].type||o[c].checked||(e=!1),"email"===o[c].type&&(e=/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(o[c].value));e&&(r.startAfter(1),"number"==typeof a.timeout&&(clearTimeout(l),l=setTimeout(r.stop,a.timeout)),"function"==typeof a.callback&&a.callback.apply(null,[r]))},!1)}}()}function n(){for(var t=0,e=c.length;e>t;t++)c[t].stop()}function o(e){var s,i,a=e.offsetHeight;0===a&&(a=parseFloat(window.getComputedStyle(e).height)),a>32&&(a*=.8),e.hasAttribute("data-spinner-size")&&(a=parseInt(e.getAttribute("data-spinner-size"),10)),e.hasAttribute("data-spinner-color")&&(s=e.getAttribute("data-spinner-color")),e.hasAttribute("data-spinner-lines")&&(i=parseInt(e.getAttribute("data-spinner-lines"),10));var n=.2*a,o=.6*n,r=7>n?2:3;return new t({color:s||"#fff",lines:i||12,radius:n,length:o,width:r,zIndex:"auto",top:"auto",left:"auto",className:""})}function r(t){for(var e=[],s=0;t.length>s;s++)e.push(t[s]);return e}function l(t,e){var s=document.createRange();s.selectNodeContents(t),s.surroundContents(e),t.appendChild(e)}var c=[];return{bind:a,create:e,stopAll:n}});var wcs_filters_mixins={methods:{updateModelValue:function(t){this.$emit("input",t.target.value)}}},wcs_timetable_weekly_tabs_mixins={created:function(){this.stop=moment(this.start).utc().add(7,"days").format("YYYY-MM-DD")}},wcs_timetable_mixins={methods:{getOption:function(t,e){return void 0!==this.options[t]?this.options[t]:e},getSelect2Options:function(t){var e=this,s=[];return t.forEach(function(t,e){s.push({id:t.slug,text:t.name})}),s},isMultiDay:function(t){if(void 0!==t.multiday&&void 0!==t.ending)return this.filter_var(t.multiday)},arrayIntersection:function(t,e){var s=[],i={},a=e.length,n,o;for(n=0;n<a;n++)i[e[n]]=!0;for(a=t.length,n=0;n<a;n++)(o=t[n])in i&&s.push(o);return s},addEvents:function(t){this.loading=t,this.loading.startLoader(),this.start=moment(this.stop).utc().add(1,"days").format("YYYY-MM-DD"),this.stop=moment(this.start).utc().add(parseInt(this.options.days)+1,"days").format("YYYY-MM-DD"),this.getEvents()},getEvents:function(){this.loading_process=!0,this.$http.get(ajaxurl,{params:{action:"wcs_get_events_json",content:void 0!==this.options.content?this.options.content:[],start:this.start,end:this.stop}}).then(this.responseSuccess,this.responseError)},getLimit:function(){return-1===[0,1,2,5,6,7,8,12].indexOf(parseInt(this.options.view))?99999999:void 0!==this.options.limit&&parseInt(this.options.limit)>0&&0===parseInt(this.options.days)?this.options.limit:999999999999},filter_var:function(t){return-1!==["1","true","on","yes",!0,1].indexOf(t)},getFiltersType:function(){var t=this,e="checkbox";return this.filter_var(t.options.filters_style)&&(e="switch"),7===parseInt(t.options.view)&&(e="radio"),void 0!==t.options.filters_select2&&t.filter_var(t.options.filters_select2)&&(e="select2"),e},isFiltered:function(t){var e=this;if(!this.filter_var(e.options.show_past_events)&&!this.filter_var(t.future)&&this.filter_var(t.finished))return!0;var s=[],i=e.filters_active;for(var a in i)if(i.hasOwnProperty(a))if(i[a].length>0){var n=[];if(void 0!==t.terms[a])for(var o in t.terms[a])t.terms[a].hasOwnProperty(o)&&n.push(t.terms[a][o].slug);var r=void 0!==t.terms[a]?n:[];if("day_of_week"===a&&r.push(moment(t.start).utc().day()),"time_of_day"===a)switch(!0){case moment(t.start).utc().hour()>=0&&moment(t.start).utc().hour()<=11:r.push("morning");break;case moment(t.start).utc().hour()>11&&moment(t.start).utc().hour()<=16:r.push("afternoon");break;case moment(t.start).utc().hour()>16&&moment(t.start).utc().hour()<=23:r.push("evening");break}s.push(e.arrayIntersection(i[a],r).length>0)}else s.push(!0);return s.indexOf(!1)>=0},getActiveFilters:function(t){var e={};for(var s in t.taxonomies)t.taxonomies.hasOwnProperty(s)&&(e[s]=[]);return e.day_of_week=[],e.time_of_day=[],e},updateFilterModel:function(t,e,s){if(s){var i=[];e[0].length>0&&i.push(e[0]),this.filters_active[t]=i}else{var a=this,i=a.filters_active[t],n=e[0];i instanceof Array?i.indexOf(n)>=0?i.splice(i.indexOf(n),1):i.push(n):i=[n]}this.$emit("input",i),this.filterEvents()},updateFilterModelSelect2:function(t,e){var s=e[0];null===s&&(s=[]),s instanceof Array||(s="-1"===s?[]:[s]),this.filters_active[t]=s,this.$emit("input",s),this.filterEvents()},filterEvents:function(){var t=this,e=[];t.events.forEach(function(s,i,a){t.isFiltered(s)&&e.push(s.hash)}),this.events_filtered=e},filterEvent:function(t){this.isFiltered(t)&&this.events_filtered.push(t.hash)},responseSuccess:function(t){var e=this,s=[],i=[];t.body.forEach(function(t,s,i){-1===e.events_hases.indexOf(t.hash)&&(0===parseInt(e.options.days)&&e.getLimit()>0?e.events.length<e.getLimit()&&(e.events_hases.push(t.hash),e.filterEvent(t),e.events.push(t)):(e.events_hases.push(t.hash),e.filterEvent(t),e.events.push(t)))}),this.loading_process=!1,this.loading&&this.loading.stopLoader()},responseError:function(t){this.loading_process=!1,this.loading&&this.loading.stopLoader()},openTaxModal:function(t,e,s){s.preventDefault(),wcs_vue_modal.openModal(t,e)},openModal:function(t,e,s){var i=this,a=void 0===t.excerpt||i.hasModal(t);a||2!==parseInt(e.modal)||("#"===s.target.getAttribute("href")&&s.preventDefault(),void 0!==t.permalink&&i.filter_var(window.wcs_settings.hasSingle)&&(window.location=t.permalink)),a&&void 0===t.start&&(a=!1),a&&!this.filter_var(t.visible)&&(a=!1),a&&(s.preventDefault(),wcs_vue_modal.openModal(t,e))},hasTax:function(t,e){var s=!0;return void 0!==this.options["show_"+t]&&this.filter_var(this.options["show_"+t])||(s=!1),s&&(void 0===e.terms[t]||e.terms[t].length<=0)&&(s=!1),s},hasModal:function(t){var e=this,s=e.options,i=!0;return 2===parseInt(s.modal)&&(i=!1),i&&!e.filter_var(s.show_description)&&(i=!1),i&&void 0!==t.excerpt&&0===t.excerpt.length&&(i=!1),i},hasLink:function(t){var e=this,s=e.options,i=!0;return this.hasModal(t,s)&&(i=!1),i&&!e.filter_var(wcs_settings.hasSingle)&&(i=!1),i&&void 0===t.permalink&&(i=!1),i},hasMoreButton:function(){var t=!0;return(void 0===this.options.reverse_order||!this.filter_var(this.options.reverse_order))&&(this.filter_var(this.options.show_more)||(t=!1),this.options.days&&0!==parseInt(this.options.days)||(t=!1),parseInt(this.options.days)>28&&(t=!1),t)},hasFilters:function(){var t=this,e=[];for(index in t.filters.taxonomies)e.push(this.filter_var(this.options["show_filter_"+index]));return e.indexOf(!0)>=0},hasToggler:function(){var t=this.status.toggler;return t&&(t=this.hasFilters()),t&&1!==parseInt(this.options.filters_position)&&(this.filters.visible=!0,t=!1),t&&8===parseInt(this.options.view)&&(this.filters.visible=!0,t=!1),t},termsList:function(t){return t.length>0},event_time:function(t){return t=moment(t).utc(),t.format(this.filter_var(this.options.show_time_format)?"h":"HH")+"<span class='wcs-addons--blink'>:</span>"+t.format("mm")+(this.filter_var(this.options.show_time_format)?t.format("a"):"")},starting_ending:function(t){return this.event_time(t.start)+(this.filter_var(this.options.show_ending)?" - "+this.event_time(t.end):"")}},computed:{events_list:function(){var t=this,e=[],s=t.getLimit();t.filterEvents(),t.events.forEach(function(i,a){s>0&&(0!==t.events_filtered.length&&-1!==t.events_filtered.indexOf(i.hash)||(e.push(i),s--))});var i=void 0!==t.options.reverse_order&&t.filter_var(t.options.reverse_order);return e=i?e.reverse():e,e.length>0&&e},events_by_day:function(){var t=this,e={},s=t.getLimit();t.filterEvents();var i=t.events;return i=void 0!==t.options.reverse_order&&t.filter_var(t.options.reverse_order)?i.reverse():i,i.forEach(function(i,a){if((0===t.events_filtered.length||-1===t.events_filtered.indexOf(i.hash))&&!t.isMultiDay(i)){var n=moment(i.start).utc().year(),o=moment(i.start).utc().month()+1,r=moment(i.start).utc().date(),l=n+"_"+o+"_"+r;s>0&&(l in e?e[l].events.push(i):e[l]={date:moment(i.start).utc(),events:[i]},s--)}}),e},all_days:function(){var t=this,e={};return t.filterEvents(),t.events.forEach(function(s,i){if(!t.isMultiDay(s)){var a=moment(s.start).utc().year(),n=moment(s.start).utc().month()+1,o=moment(s.start).utc().date(),r=a+"_"+n+"_"+o;r in e||(e[r]={date:moment(s.start).utc()})}}),e},active_day:function(){var t=this;return t.selected_day?t.selected_day:Object.keys(t.all_days)[0]},filters_classes:function(){var t="";return void 0!==this.options.filters_style&&this.filter_var(this.options.filters_style)&&(t="wcs-filters--switches"),7===parseInt(this.options.view)&&(t="wcs-filters--inline")," "+t},app_classes:{get:function(){return this.css_classes.join(" ")},set:function(t){this.css_classes.push(t)}}},filters:{bgImage:function(t){return void 0!==t&&t.length>0?'background-image: url("'+t+'")':""}}},wcs_modal_mixins={computed:{modal_classes:function(){var t=[];return t.push(this.data.image?"wcs-modal--with-image":"wcs-modal--without-image"),this.classes+" "+t.join(" ")}},methods:{isMultiDay:function(t){if(void 0!==t.multiday&&void 0!==t.ending)return this.filter_var(t.multiday)},filter_var:function(t){return-1!==["1","true","on","yes",!0,1].indexOf(t)},closeModal:function(t){var e=t.target.className.split(" ");(e.indexOf("wcs-modal")>=0||e.indexOf("wcs-modal__close")>=0)&&(t.preventDefault(),wcs_vue_modal.visible=!1,wcs_vue_modal.loading=!0)}}},wcs_carousel_mixin={mounted:function(){var t=this;jQuery(".wcs-class:not(.vue-element)",t.$el).each(function(){jQuery(this).addClass("vue-element")}),jQuery(document).ready(function(){jQuery(".wcs-timetable__parent",t.$el).imagesLoaded(function(){t.$refs.carousel=jQuery(".wcs-timetable__parent",t.$el).owlCarousel(t.carousel_data_options).owlCarousel("refresh")})})},watch:{events_list:function(){var t=this;setTimeout(function(){jQuery(".wcs-timetable__parent > .wcs-class:not(.vue-element)",t.$el).each(function(){t.$refs.carousel.owlCarousel("add",jQuery(this).addClass("vue-element")).owlCarousel("update")}),"function"==typeof t.$refs.carousel.trigger&&t.$refs.carousel.trigger("next.owl.carousel").trigger("prev.owl.carousel").owlCarousel("refresh")},100)}},computed:{carousel_data_options:function(){var t=this;return{margin:parseInt(t.options.carousel_items_spacing),dots:t.filter_var(t.options.carousel_dots),nav:t.filter_var(t.options.carousel_nav),loop:1!==t.events.length&&t.filter_var(t.options.carousel_loop),autoplay:t.filter_var(t.options.carousel_autoplay),autoplayTimeout:parseInt(t.options.carousel_autoplay_speed),autoplayHoverPause:!0,navText:void 0!==t.options.carousel_next&&void 0!==t.options.carousel_prev?[t.options.carousel_next,t.options.carousel_prev]:["",""],lazyLoad:!0,stagePadding:parseInt(t.options.carousel_padding),responsive:{0:{items:parseInt(t.options.carousel_items_xs)},600:{items:parseInt(t.options.carousel_items_md)},1200:{items:parseInt(t.options.carousel_items_lg)},1600:{items:parseInt(t.options.carousel_items_xl)}}}}}};"undefined"!=typeof VueImagesLoaded&&(wcs_carousel_mixin.directives={imagesLoaded:VueImagesLoaded});var wcs_timetable_monthly_mixins={mounted:function(){var t=this,e=jQuery(".wcs-timetable__monthly-schedule",t.$el).fullCalendar({header:{left:"prev,next today",center:"title",right:"month,agendaWeek,agendaDay,listWeek"},events:function(e,s,i,a){t.start=e.toISOString(),t.stop=s.toISOString(),t.$http.get(ajaxurl,{params:{action:"wcs_get_events_json",content:void 0!==t.options.content?t.options.content:[],start:t.start,end:t.stop}}).then(function(e){var s=t;e.body.forEach(function(t,e,i){-1===s.events_hases.indexOf(t.hash)&&(s.events_hases.push(t.hash),s.filterEvent(t),s.events.push(t))}),this.loading&&this.loading.stopLoader(),a(t.events)})},eventClick:function(e,s){t.openModal(e,t.options,s)},timeFormat:12===parseInt(t.options.show_time_format)?"h(:mm)t":"H(:mm)",firstDay:wcs_locale.firstDay,monthNames:wcs_locale.monthNames,monthNamesShort:wcs_locale.monthNamesShort,dayNames:wcs_locale.dayNames,dayNamesShort:wcs_locale.dayNamesShort,eventLimit:t.filter_var(t.options.calendar_limit),allDaySlot:!1,height:!t.filter_var(t.options.calendar_sticky)&&"auto",weekends:t.filter_var(t.options.calendar_weekends),loading:function(e){e?jQuery('<div class="wcs-calendar-loading"><div class="wcs-spinner"><div class="rect1"></div><div class="rect2"></div><div class="rect3"></div><div class="rect5"></div></div></div>').appendTo(t.$el):jQuery(".wcs-calendar-loading",t.$el).remove()}})},methods:{responseSuccessMonthly:function(){},errorSuccessMonthly:function(){}}},wcs_timetable_isotope_mixins={mounted:function(){window.lodash=_.noConflict();var t=this},updated:function(){},watch:{filters_active:{handler:function(t){this.$refs.cpt.filters_active=t,this.$refs.cpt.filter("isFilteredVal")},deep:!0}},methods:{isZero:function(){return void 0!==this.$refs.cpt&&void 0!==this.$refs.cpt.iso&&void 0!==this.$refs.cpt.iso.filteredItems&&this.$refs.cpt.iso.filteredItems.length<=2},getLabelAll:function(t){return void 0!==this.options["label_grid_all_"+t]&&this.options["label_grid_all_"+t].length>0?this.options["label_grid_all_"+t]:this.filters.taxonomies[t].label_all},layout:function(){this.$refs.cpt.layout("masonry")},isFilteredVal:function(){var t=this;this.isZero()?jQuery(".wcs-timetable__zero-data",t.$el).show():jQuery(".wcs-timetable__zero-data",t.$el).hide()},getIsotopeOptions:function(){return{itemSelector:".wcs-iso-item",percentPosition:!0,masonry:{columnWidth:".wcs-isotope-item",gutter:".wcs-isotope-gutter"},getSortData:{timestamp:function(t){return void 0!==t&&void 0!==t.timestamp?t.timestamp:0}},sortBy:"timestamp",getFilterData:{isFilteredVal:function(t){var e=this.filters_active,s=!0;if(void 0!==e&&e)for(var i in e)if(["time_of_day","day_of_week"].indexOf(i)>=0&&e[i].length>0&&e[i][0].length>0&&void 0!==t){if("day_of_week"===i&&window.lodash.intersection(e[i],[moment(t.start).utc().day().toString()]).length<=0)s=!1;else if("time_of_day"===i){switch(!0){case moment(t.start).utc().hour()>=0&&moment(t.start).utc().hour()<=11:var a=["morning"];break;case moment(t.start).utc().hour()>11&&moment(t.start).utc().hour()<=16:var a=["afternoon"];break;case moment(t.start).utc().hour()>16&&moment(t.start).utc().hour()<=23:var a=["evening"];break}var n=window.lodash.intersection(e[i],a);n.length<=0&&(s=!1)}}else e[i].length>0&&e[i][0].length>0&&void 0!==t&&window.lodash.intersection(e[i],window.lodash.map(t.terms[i],function(t){return t.slug})).length<=0&&(s=!1);return s}}}},expandIsotopeItem:function(t,e){console.log(),this.iso_expanded_items.push(t),e.target.parentElement.parentElement.className+=" wcs-class--active",this.layout()},minimizeIsotopeItem:function(t,e){this.iso_expanded_items.splice(this.iso_expanded_items.indexOf(t),1),e.target.parentElement.parentElement.className=e.target.parentElement.parentElement.className.replace(" wcs-class--active",""),this.layout()},isIsotopeExpanded:function(t,e){return this.iso_expanded_items.indexOf(t)>=0}},filters:{eventCSSIsotope:function(t,e){var s=[];return void 0!==e.expanded&&s.push("wcs-class--active"),t+" "+s.join(" ")}}};"undefined"!=typeof VueImagesLoaded&&(wcs_timetable_isotope_mixins.directives={imagesLoaded:VueImagesLoaded});var wcs_timetable_timeline_mixins={mounted:function(){var t=this},computed:{timeline_events:function(){return 0===this.events.length?[]:this.events_by_day?Object.values(this.events_by_day):[]}},methods:{layout:function(){this.$refs.timeline.layout("masonry")},getIsotopeOptions:function(){return{itemSelector:".wcs-iso-item",percentPosition:!0,masonry:{columnWidth:".wcs-isotope-item",gutter:".wcs-isotope-gutter"}}}},filters:{eventCSSIsotope:function(t,e){var s=[];return void 0!==e.expanded&&s.push("wcs-class--active"),t+" "+s.join(" ")}}},wcs_timetable_weekly_mixins={created:function(){this.filter_var(this.options.show_navigation)&&(this.options.show_past_events=!0),this.stop=moment(this.start).utc().add(7,"days").format("YYYY-MM-DD"),this.filter_var(this.options.show_starting_hours)&&(this.app_classes="wcs-timetable--grouped-by-hours"),this.dateRange.start=moment(this.start).startOf("isoWeek").format("YYYY-MM-DD"),this.dateRange.stop=moment(this.start).endOf("isoWeek").format("YYYY-MM-DD"),this.dateRangeHistory.push(this.dateRange.start+"/"+this.dateRange.stop)},computed:{dateRangeTitle:function(){var t="";return t=moment(this.dateRange.start).isSame(this.dateRange.stop,"month")?moment(this.dateRange.start).format("MMMM")+" "+moment(this.dateRange.start).format("D")+" - "+moment(this.dateRange.stop).format("D"):moment(this.dateRange.start).format("MMMM D")+" - "+moment(this.dateRange.stop).format("MMMM D")},week:function(){var t=this,e=parseInt(wcs_locale.firstDay),s={};for($i=e;$i<=e+7;$i++){var i=$i<=6?$i:Math.abs($i-7);s["day_"+i]={day_num:i,events:[]}}return t.events.forEach(function(e,i){!t.inRange(e)||0!==t.events_filtered.length&&-1!==t.events_filtered.indexOf(e.hash)||t.isMultiDay(e)||s["day_"+moment(e.start).utc().format("e")].events.push(e)}),s},starting_times:function(){var t=this,e=[];return t.events.forEach(function(t,s){e.indexOf(moment(t.start).utc().format("HH:mm"))<0&&e.push(moment(t.start).utc().format("HH:mm"))}),e.sort(),e}},filters:{eventSlotCSS:function(t,e){return t+" wcs-class--slots-"+e.period/10},check12format:function(t,e){if(!0!==e&&"true"!==e&&"1"!==e&&1!==e)return t;var s=t.split(":");switch(parseInt(s[0])){case 1:return"1:"+s[1]+"am";break;case 2:return"2:"+s[1]+"am";break;case 3:return"3:"+s[1]+"am";break;case 4:return"4:"+s[1]+"am";break;case 5:return"5:"+s[1]+"am";break;case 6:return"6:"+s[1]+"am";break;case 7:return"7:"+s[1]+"am";break;case 8:return"8:"+s[1]+"am";break;case 9:return"9:"+s[1]+"am";break;case 10:return"10:"+s[1]+"am";break;case 11:return"11:"+s[1]+"am";break;case 12:return"12:"+s[1]+"pm";break;case 13:return"1:"+s[1]+"pm";break;case 14:return"2:"+s[1]+"pm";break;case 15:return"3:"+s[1]+"pm";break;case 16:return"4:"+s[1]+"pm";break;case 17:return"5:"+s[1]+"pm";break;case 18:return"6:"+s[1]+"pm";break;case 19:return"7:"+s[1]+"pm";break;case 20:return"8:"+s[1]+"pm";break;case 21:return"9:"+s[1]+"pm";break;case 22:return"10:"+s[1]+"pm";break;case 23:return"11:"+s[1]+"pm";break;case 24:return"12:"+s[1]+"am";break;default:return t}}},methods:{inRange:function(t){return!this.filter_var(this.options.show_navigation)||!(!moment(this.dateRange.start).isBefore(t.start)||!moment(this.dateRange.stop).add(1,"days").isAfter(t.start))},navigationGoNext:function(){this.dateRange.start=moment(this.dateRange.start).add(7,"days").format("YYYY-MM-DD"),this.dateRange.stop=moment(this.dateRange.start).add(6,"days").format("YYYY-MM-DD"),-1===this.dateRangeHistory.indexOf(this.dateRange.start+"/"+this.dateRange.stop)&&(this.dateRangeHistory.push(this.dateRange.start+"/"+this.dateRange.stop),this.start=this.dateRange.start,this.stop=this.dateRange.stop,this.getEvents())},navigationGoPrev:function(){this.dateRange.start=moment(this.dateRange.start).subtract(7,"days").format("YYYY-MM-DD"),this.dateRange.stop=moment(this.dateRange.start).add(6,"days").format("YYYY-MM-DD"),-1===this.dateRangeHistory.indexOf(this.dateRange.start+"/"+this.dateRange.stop)&&(this.dateRangeHistory.push(this.dateRange.start+"/"+this.dateRange.stop),this.start=this.dateRange.start,this.stop=this.dateRange.stop,this.getEvents())},hasHourlyEvents:function(t){var e=this,s=e.week,i=!1;for(var a in s)if(void 0!==e.week[a].events&&!1!==e.getHourlyEvents(t,e.week[a].events)){i=!0;break}return i},getHourlyEvents:function(t,e){var s=this,i=[];return e.forEach(function(e,s){t===moment(e.start).utc().format("HH:mm")&&i.push(e)}),i.length>0&&i},countWeekEvents:function(){var t=this,e=0;for(var s in t.week)e+=t.week[s].events.length;return e},day_name:function(t){return wcs_locale.dayNames[t]}}},wcs_timetable_countdown={created:function(){var t=this;t.countdown.asMilliseconds()>0&&window.setInterval(function(){t.now=moment().utc()},1e3)},mounted:function(){var t=[];switch(!0){case 0==this.options.countdown_image_position:t.push("wcs-timetable--countdown-position-top-left");break;case 1==this.options.countdown_image_position:t.push("wcs-timetable--countdown-position-top-center");break;case 2==this.options.countdown_image_position:t.push("wcs-timetable--countdown-position-top-right");break;case 3==this.options.countdown_image_position:t.push("wcs-timetable--countdown-position-middle-left");break;case 4==this.options.countdown_image_position:t.push("wcs-timetable--countdown-position-middle-center");break;case 5==this.options.countdown_image_position:t.push("wcs-timetable--countdown-position-middle-right");break;case 6==this.options.countdown_image_position:t.push("wcs-timetable--countdown-position-bottom-left");break;case 7==this.options.countdown_image_position:t.push("wcs-timetable--countdown-position-bottom-center");break;case 8==this.options.countdown_image_position:t.push("wcs-timetable--countdown-position-bottom-right");break}t.push(void 0!==this.single.thumbnail&&this.single.thumbnail.length>0?"wcs-timetable--countdown-with-image":"wcs-timetable--countdown-without-image"),t.push(this.filter_var(this.options.countdown_vertical)?"wcs-timetable--countdown-vertical":"wcs-timetable--countdown-default"),this.$el.querySelector(".wcs-timetable--countdown").className+=" "+t.join(" ")},computed:{timestamp:function(){return moment(1e3*(parseInt(this.single.timestamp)+-1*parseInt(wcs_locale.gmtOffset))).utc()},countdown:function(){return moment.duration(this.timestamp.diff(this.now))},remaining_years:function(){var t=this.countdown.years();return t<=0?0:t},remaining_months:function(){var t=this.countdown.months();return(void 0===this.options.label_countdown_years||this.options.label_countdown_years.length<=0)&&(t+=365*this.remaining_years),t<=0?0:t},remaining_days:function(){var t=this.countdown.days();return(void 0===this.options.label_countdown_months||this.options.label_countdown_months.length<=0)&&(t+=30*this.remaining_months),t<=0?0:t},remaining_hours:function(){var t=this.countdown.hours();return(void 0===this.options.label_countdown_days||this.options.label_countdown_days.length<=0)&&(t+=24*this.remaining_days),t<=0?0:t},remaining_minutes:function(){var t=this.countdown.minutes();return(void 0===this.options.label_countdown_hours||this.options.label_countdown_hours.length<=0)&&(t+=60*this.remaining_hours),t<=0?0:t},remaining_seconds:function(){var t=this.countdown.seconds();return(void 0===this.options.label_countdown_minutes||this.options.label_countdown_minutes.length<=0)&&(t+=60*this.remaining_minutes),t<=0?0:t}},filters:{leadingZero:function(t){return parseInt(t)<=9?"0"+t:t}},methods:{hasCountdownImage:function(t){return!!this.filter_var(this.options.countdown_image);return t.thumbnail},timeLabel:function(t){var e=this.options["label_countdown_"+t].split(",");return e.length>1?1==this["remaining_"+t]?e[0]:e[1]:e[0]}}},wcs_timetable_cover={mounted:function(){var t=[];switch(!0){case 0==this.options.cover_text_position:t.push("wcs-timetable--cover-position-top-left");break;case 1==this.options.cover_text_position:t.push("wcs-timetable--cover-position-top-center");break;case 2==this.options.cover_text_position:t.push("wcs-timetable--cover-position-top-right");break;case 3==this.options.cover_text_position:t.push("wcs-timetable--cover-position-middle-left");break;case 4==this.options.cover_text_position:t.push("wcs-timetable--cover-position-middle-center");break;case 5==this.options.cover_text_position:t.push("wcs-timetable--cover-position-middle-right");break;case 6==this.options.cover_text_position:t.push("wcs-timetable--cover-position-bottom-left");break;case 7==this.options.cover_text_position:t.push("wcs-timetable--cover-position-bottom-center");break;case 8==this.options.cover_text_position:t.push("wcs-timetable--cover-position-bottom-right");break}switch(!0){case 0==this.options.cover_text_align:t.push("wcs-timetable--cover-align-left");break;case 1==this.options.cover_text_align:t.push("wcs-timetable--cover-align-center");break;case 2==this.options.cover_text_align:t.push("wcs-timetable--cover-align-right");break}switch(!0){case 0==this.options.cover_text_size:t.push("wcs-timetable--cover-text-size-sm");break;case 1==this.options.cover_text_size:t.push("wcs-timetable--cover-text-size-md");break;case 2==this.options.cover_text_size:t.push("wcs-timetable--cover-text-size-lg");break}switch(!0){case 0==this.options.cover_aspect:t.push("wcs-timetable--cover-aspect-169");break;case 1==this.options.cover_aspect:t.push("wcs-timetable--cover-aspect-169v");break;case 2==this.options.cover_aspect:t.push("wcs-timetable--cover-aspect-43");break;case 3==this.options.cover_aspect:t.push("wcs-timetable--cover-aspect-43v");break;case 4==this.options.cover_aspect:t.push("wcs-timetable--cover-aspect-11");break}t.push(void 0!==this.single.thumbnail&&this.single.thumbnail.length>0?"wcs-timetable--cover-with-image":"wcs-timetable--cover-without-image"),t.push(void 0!==this.options.cover_overlay_type&&0==parseInt(this.options.cover_overlay_type)?"wcs-timetable--cover-overlay-image":"wcs-timetable--cover-overlay-text"),this.$el.querySelector(".wcs-timetable--cover").className+=" "+t.join(" ")},methods:{hasImage:function(){return void 0!==this.single.thumbnail&&this.single.thumbnail.length>0}},filters:{}},wcs_mixins_monthly_calendar={created:function(){var t=this;if(this.loading_history.push(this.start+this.stop),this.updateCalendar(this.events),null===this.selectedDay){var e=this.today,s=moment(e).utc().endOf("month").diff(moment(e).utc(),"days"),i=!1;for($day=1;$day<=s;$day++){
var a=moment(e).utc().add($day,"days").format("YYYY-MM-DD"),n=t.getDayEvents(a);if(n.length>=0&&n.forEach(function(t,e,s){moment(t.start).utc().isAfter(moment().utc())&&(i=!0)}),i&&(e=a),i)break}this.selectedDay={date:e,events:this.getDayEvents(e)}}},watch:{events:function(t){var e=this;this.updateCalendar(t)}},mounted:function(){},computed:{days:function(){var t=[],e=parseInt(wcs_locale.firstDay);e=0===e?7:e;for(var s=this.today,i=moment(this.calendarDay?this.calendarDay:s).format("YYYY-MM-DD"),a=Math.abs((e-7-moment(i).startOf("month").isoWeekday())%7),n=Math.abs(7-moment(i).endOf("month").isoWeekday()),o=moment(i).startOf("month").subtract(a>6?-1:a,"days"),r=moment(i).endOf("month").add(n,"days"),l=moment(o);l.diff(r,"days")<=0;l.add(1,"days"))t.push({date:l.format("YYYY-MM-DD"),past:moment(moment(i).startOf("month").format("YYYY-MM-DD")).isAfter(l.format("YYYY-MM-DD"),"day"),future:moment(l.format("YYYY-MM-DD")).isAfter(moment(i).endOf("month").format("YYYY-MM-DD"),"day"),today:l.isSame(s,"day"),events:this.getDayEvents(l.format("YYYY-MM-DD"))});return t},week:function(){var t=this,e=parseInt(wcs_locale.firstDay),s={};for($i=e;$i<=e+7;$i++){var i=$i<=6?$i:Math.abs($i-7);s["day_"+i]={day_num:i,events:[]}}return s},getCurrentMonth:function(){return moment(this.calendarDay?this.calendarDay:this.today).format("MMMM YYYY")},getCurrentWeek:function(){return moment(this.calendarDay?this.calendarDay:this.today).utc().startOf("month").format("W")},calendarClasses:function(){var t=[];switch(parseInt(this.options.mth_cal_agenda_position)){case 1:t.push("wcs-timetable--side-agenda wcs-timetable--side-agenda-left");break;case 2:t.push("wcs-timetable--side-agenda wcs-timetable--side-agenda-right");break;case 3:t.push("wcs-timetable--inside-agenda");break;default:t.push("wcs-timetable--bellow-agenda")}switch(parseInt(this.options.mth_cal_borders)){case 1:t.push("wcs-timetable--horizontal-borders");break;case 2:t.push("wcs-timetable--vertical-borders");break;case 3:t.push("wcs-timetable--all-borders");break;default:t.push("wcs-timetable--no-borders")}return this.filter_var(this.options.mth_cal_rows)&&t.push("wcs-timetable--alternate"),this.filter_var(this.options.mth_cal_highlight)&&t.push("wcs-timetable--highligh-round"),this.filter_var(this.options.show_past_events)||t.push("wcs-timetable--past-hidden"),this.loading_process&&t.push("wcs-timetable--loading"),t.join(" ")}},filters:{eventSlotCSS:function(t,e){return t+" wcs-class--slots-"+e.period/10}},methods:{isNavVisible:function(t){if(!this.options.label_mth_prev||!this.options.label_mth_next)return!1;var e=moment(this.calendarDay?this.calendarDay:this.today).utc().format("YYYY-MM-DD");return!(!this.filter_var(this.options.show_past_events)&&"prev"==t&&moment(e).utc().startOf("month").subtract(1,"days").isBefore(this.today,"month"))},isAgendaInside:function(t){var e=!1;return 3==this.options.mth_cal_agenda_position&&moment(this.selectedDay.date).utc().format("W")==parseInt(this.getCurrentWeek)+t-1&&(e=!0),e},selectDay:function(t,e){t.future||t.past||t.events.length<=0||!this.filter_var(this.options.show_past_events)&&moment(this.today).utc().isAfter(t.date,"day")||(this.selectedDay=t,e.target.parentElement.className+=" wcs-week--selected")},updateCalendar:function(t){var e=this;t.forEach(function(t,s){var i=moment(t.start).utc(),a=i.format("YYYY"),n=i.format("MM"),o=i.format("DD");void 0===e.calendar["year_"+a]&&e.$set(e.calendar,"year_"+a,{}),void 0===e.calendar["year_"+a]["month_"+n]&&e.$set(e.calendar["year_"+a],"month_"+n,{}),void 0===e.calendar["year_"+a]["month_"+n]["day_"+o]&&e.$set(e.calendar["year_"+a]["month_"+n],"day_"+o,[]);var r=!0;e.calendar["year_"+a]["month_"+n]["day_"+o].forEach(function(e,s){e.hash===t.hash&&(r=!1)}),r&&e.calendar["year_"+a]["month_"+n]["day_"+o].push(t)})},getDayEvents:function(t){var e=this,s=[],i=moment(t),a=i.format("YYYY"),n=i.format("MM"),o=i.format("DD");return void 0!==e.calendar["year_"+a]&&void 0!==e.calendar["year_"+a]["month_"+n]&&void 0!==e.calendar["year_"+a]["month_"+n]["day_"+o]&&(s=e.calendar["year_"+a]["month_"+n]["day_"+o]),s},getFilteredCalendarEvents:function(t){var e=this,s=[];return void 0!==this.events_filtered&&this.events_filtered.length>=1?t.forEach(function(t,i){e.events_filtered.indexOf(t.hash)<0&&!e.isMultiDay(t)&&s.push(t)}):t.forEach(function(t,i){e.isMultiDay(t)||s.push(t)}),s},subtractMonth:function(){this.loading_process||(this.calendarDay=moment(this.calendarDay?this.calendarDay:this.today).subtract(1,"month").format("YYYY-MM-DD"),this.checkForCalendarUpdate())},addMonth:function(){this.loading_process||(this.calendarDay=moment(this.calendarDay?this.calendarDay:this.today).add(1,"month").format("YYYY-MM-DD"),this.checkForCalendarUpdate())},checkForCalendarUpdate:function(){this.start=moment(this.calendarDay).startOf("month").format("YYYY-MM-DD"),this.stop=moment(this.calendarDay).endOf("month").format("YYYY-MM-DD"),this.loading_history.indexOf(this.start+this.stop)<0&&(this.loading_history.push(this.start+this.stop),this.getEvents())},isWeekday:function(t,e){if(this.filter_var(this.options.mth_cal_show_weekends))return!0;var s=[6,7];return t=!0===e?0===t?7:t:moment(t.date).isoWeekday(),!(s.indexOf(t)>=0)},countWeekEvents:function(){var t=this,e=0;for(var s in t.week)e+=t.week[s].events.length;return e},day_name:function(t){var e=[];switch(this.options.mth_cal_day_format){case"ddd":e=wcs_locale.dayNamesShort[t];break;case"d":e=wcs_locale.dayNamesMin[t];break;default:e=wcs_locale.dayNames[t]}return e},dayClasses:function(t){var e=[];return t.past&&e.push("wcs-date--past-month"),t.future&&e.push("wcs-date--future-month"),t.today&&e.push("wcs-date--today"),t.events.length>0&&moment(t.date).isSame(this.calendarDay?this.calendarDay:this.today,"month")&&this.getFilteredCalendarEvents(t.events).length>0&&e.push("wcs-date--with-events wcs-modal-call"),moment(this.today).utc().isAfter(t.date,"day")&&e.push("wcs-date--past"),moment(this.today).utc().isBefore(t.date,"day")&&e.push("wcs-date--future"),moment(t.date).utc().isSame(this.selectedDay.date,"day")&&e.push("wcs-date--selected"),e.join(" ")},weekClasses:function(t){var e=[],s=parseInt(this.getCurrentWeek)+t-1;return e.push("wcs-week--"+s),moment(this.selectedDay.date).utc().format("W")==s&&e.push("wcs-week--selected"),e.join(" ")}}};Vue.filter("moment",function(t,e,s){return!1!==s?moment(t).utc().format(e):moment(t).format(e)}),Vue.filter("eventCSS",function(t){var e=[];e.push(t.future?"wcs-class--not-started":"wcs-class--started"),e.push(t.finished?"wcs-class--finished":"wcs-class--not-finished");for(var s in t.terms)for(var i in t.terms[s])e.push("wcs-class--term-id-"+t.terms[s][i].id),e.push("wcs-class--term-"+t.terms[s][i].slug);switch(e.push("wcs-class--day-"+moment(t.start).utc().day()),!0){case moment(t.start).utc().hour()>=0&&moment(t.start).utc().hour()<=11:e.push("wcs-class--time-morning");break;case moment(t.start).utc().hour()>11&&moment(t.start).utc().hour()<=16:e.push("wcs-class--time-afternoon");break;case moment(t.start).utc().hour()>16&&moment(t.start).utc().hour()<=23:e.push("wcs-class--time-evening");break}return t.visible||e.push("wcs-class--canceled"),e.join(" ")}),Vue.component("filter-checkbox",{template:"#wcs_templates_filter--checkbox",props:["filter","options","value","title","slug","name","unique_id","level"],mixins:[wcs_filters_mixins]}),Vue.component("filter-select2",{props:["options","value","placeholder","multiple"],template:"#wcs_templates_filter--select2",mounted:function(){var t=this;"function"!=typeof t.$el.select2&&jQuery(document).ready(function(){jQuery(t.$el).select2({data:t.options,multiple:t.multiple,placeholder:t.placeholder,language:t.getLanguage()})})},watch:{value:function(t){console.log(t,this),jQuery(this.$el).val(t).trigger("change")},options:function(t){}},methods:{getLanguage:function(){return{errorLoading:function(){return window.wcs_select2.errorLoading},inputTooLong:function(t){var e=t.input.length-t.maximum;return window.wcs_select2.inputTooLong.replace("%n",e)},inputTooShort:function(t){var e=t.minimum-t.input.length;return window.wcs_select2.inputTooShort.replace("%n",e)},loadingMore:function(){return window.wcs_select2.loadingMore},maximumSelected:function(t){return window.wcs_select2.inputTooShort.replace("%n",t.maximum)},noResults:function(){return window.wcs_select2.noResults},searching:function(){return window.wcs_select2.searching}}}},destroyed:function(){jQuery(this.$el).off().select2("destroy")}}),Vue.component("filter-switch",{template:"#wcs_templates_filter--switch",props:["filter","options","value","title","slug","name","unique_id","level"],mixins:[wcs_filters_mixins]}),Vue.component("filter-radio",{template:"#wcs_templates_filter--radio",props:["filter","options","value","title","slug","name","unique_id"],methods:{isChecked:function(t,e){var s=!1;return(void 0!==t?t.toString():"")===(e.length>0?e[0].toString():"")&&(s=!0),s},updateRadioModelValue:function(t){this.$refs.input.value=t.target.value,this.checked=this.$refs.input.value,this.$emit("input",this.$refs.input.value)}},mixins:[wcs_filters_mixins]}),Vue.component("wcs-loader",{template:"#wcs_templates_misc--loader"}),Vue.component("wcs-modal",{template:"<div>sstst</div>"}),Vue.component("modal-normal",{template:"#wcs_templates_modal--normal",props:["data","options","classes"],mixins:[wcs_modal_mixins],methods:{openTaxModal:function(t,e,s){s.preventDefault(),wcs_vue_modal.openModal(t,e)}}}),Vue.component("modal-large",{template:"#wcs_templates_modal--large",props:["data","options","classes"],mixins:[wcs_modal_mixins],methods:{openTaxModal:function(t,e,s){s.preventDefault(),wcs_vue_modal.openModal(t,e)}}}),Vue.component("modal-taxonomy",{template:"#wcs_templates_modal--taxonomy",props:["data","options","content","classes"],mixins:[wcs_modal_mixins]}),Vue.component("button-more",{template:"#wcs_templates_misc--button-more",props:["color","more"],methods:{startLoader:function(){this.ladda.start()},stopLoader:function(){this.ladda.stop()},addEvents:function(){this.$emit("add-events",this)}},mounted:function(){this.ladda=Ladda.create(this.$el)}}),Vue.component("taxonomy-list",{template:'<span><template v-for="(room, index) in event.terms[tax]"><template v-if="room.url"><a :href="room.url">{{room.name}}</a></template><template v-else-if="room.desc"><a href="#" class="wcs-modal-call" v-on:click="openModal( room, options, $event )">{{room.name}}</a></template><template v-else>{{room.name}}</template><template v-if="index !== (event.terms[tax].length - 1)">, </template></template></span>',props:["tax","options","event"],methods:{openModal:function(t,e,s){this.$emit("open-modal",t,e,s)}}});var wcs_vue_modal=new Vue({el:"#wcs-vue-modal",template:"#wcs_templates_modal",data:function(){return{visible:!1,loading:!0,data:{},options:{},events:{},taxonomies:{}}},watch:{visible:function(t){t?document.body.className+=" wcs_modal--opened":document.body.className=document.body.className.replace("wcs_modal--opened","")}},updated:function(){var t=this;if(!t.loading&&void 0!==t.data.start&&void 0!==t.data.map){var e=[];"light"===t.data.map.theme&&(e=[{featureType:"administrative",elementType:"all",stylers:[{visibility:"on"},{saturation:-100},{lightness:20}]},{featureType:"road",elementType:"all",stylers:[{visibility:"on"},{saturation:-100},{lightness:40}]},{featureType:"water",elementType:"all",stylers:[{visibility:"on"},{saturation:-10},{lightness:30}]},{featureType:"landscape.man_made",elementType:"all",stylers:[{visibility:"simplified"},{saturation:-60},{lightness:10}]},{featureType:"landscape.natural",elementType:"all",stylers:[{visibility:"simplified"},{saturation:-60},{lightness:60}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"},{saturation:-100},{lightness:60}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"},{saturation:-100},{lightness:60}]}]),"dark"===t.data.map.theme&&(e=[{featureType:"all",elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#000000"},{lightness:40}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#000000"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#000000"},{lightness:21}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#000000"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"},{lightness:17}]}]),jQuery(".wcs-map",t.$el).width("100%").height("100%").gmap3({center:[t.data.map.latitude,t.data.map.longitude],zoom:parseInt(t.data.map.zoom),disableDefaultUI:!0,draggable:!0,mapTypeId:google.maps.MapTypeId[t.data.map.type.toUpperCase()],mapTypeControl:!1,mapTypeControlOptions:{},navigationControl:!0,scrollwheel:!1,streetViewControl:!0,styles:e}).marker([{position:[t.data.map.latitude,t.data.map.longitude]}])}},methods:{openModal:function(t,e){var s=this;this.data=t,this.options=e,this.visible||(this.visible=!0),this.loading=!0,void 0!==t.start?void 0===this.events[t.id]?this.getClass(t.id):(this.data.content=this.events[t.id].content,this.data.image=this.events[t.id].image,this.loading=!this.loading):void 0===this.taxonomies[t.id]?this.getTaxonomy(t.id):(this.data.content=this.taxonomies[t.id],this.loading=!this.loading)},closeModal:function(t){var e=t.target.className.split(" ");(e.indexOf("wcs-modal")>=0||e.indexOf("wcs-modal__close")>=0)&&(t.preventDefault(),this.visible=!this.visible,this.loading=!0)},getClass:function(t){this.$http.get(ajaxurl,{params:{action:"wcs_get_class_json",id:this.data.id}}).then(this.responseSuccessClass,this.responseError)},getTaxonomy:function(t){this.$http.get(ajaxurl,{params:{action:"wcs_get_taxonomy_json",id:this.data.id}}).then(this.responseSuccessTaxonomy,this.responseError)},responseSuccessClass:function(t){0!==t.body&&void 0!==t.body.id?(this.events[t.body.id]=t.body,this.data.content=t.body.content,this.data.image=t.body.image,this.data.map=t.body.map,this.loading=!this.loading):this.visible=!this.loading},responseSuccessTaxonomy:function(t){0!==t.body&&void 0!==t.body.id?(this.taxonomies[t.body.id]=t.body.content,this.data.content=t.body.content,this.loading=!this.loading):this.visible=!this.visible},responseError:function(t){this.visible=!this.visible},filter_var:function(t){return-1!==["1","true","on","yes",!0,1].indexOf(t)}},computed:{css_classes:function(){var t=["wcs-modal-container"];return this.filter_var(this.options.show_modal)&&t.push("wcs-modal--light"),t.push("wcs-modal--"+this.type),t.join(" ")},type:function(){var t="normal";return t=void 0!==this.data.start?1===parseInt(this.options.modal)?"large":t:"taxonomy"}}});jQuery.gmap3({key:window.wcs_google_key}),"undefined"!=typeof wcs_moment_locale&&moment.updateLocale("en",wcs_moment_locale);var wcs_apps=[],timetables=document.querySelectorAll("div.wcs-vue");Array.prototype.forEach.call(timetables,function(t,e){var s=t.getAttribute("id"),i=s.replace("wcs-app-",""),a=window["EventsSchedule_"+i],n=void 0!==a.options?a.options:{},o=void 0!==a.filters?a.filters:{},r="undefined"!==a.feed?a.feed:[],l=[wcs_timetable_mixins];void 0!==a.css&&void 0!==document.getElementById("wcs_styles")&&null!=document.getElementById("wcs_styles")&&(document.getElementById("wcs_styles").innerHTML+=a.css),!1!==n.mixins&&n.mixins.split(" ").forEach(function(t){l.push(window[t])}),n.is_single?wcs_apps[e]=new Vue({el:"#"+s,mounted:function(){var t=["wcs-vue--mounted"];this.$el.className+=" "+t.join(" ")},template:"#wcs_templates_timetable--"+s,data:function(){return{css_classes:[],options:n,single:r,now:moment().utc()}},mixins:l}):(0===parseInt(n.days)&&parseInt(n.limit)>0&&(r=r.slice(0,parseInt(n.limit))),wcs_apps[e]=new Vue({el:"#"+s,template:"#wcs_templates_timetable--"+s,created:function(){var t=this;void 0!==this.options.days&&this.options.days||(this.options.days=356),0===r.length?this.getEvents():r.forEach(function(e,s,i){-1===t.events_hases.indexOf(e.hash)&&(t.events_hases.push(e.hash),t.filterEvent(e))})},mounted:function(){if(this.css_classes.push(this.hasFilters()?"wcs-timetable--with-filters":"wcs-timetable--without-filters"),this.hasFilters()){switch(!0){case 0===parseInt(this.options.filters_position):this.css_classes.push("wcs-timetable--filters-left");break;case 1===parseInt(this.options.filters_position):this.css_classes.push("wcs-timetable--filters-center");break;case 2===parseInt(this.options.filters_position):this.css_classes.push("wcs-timetable--filters-right");break}this.css_classes.push(this.filter_var(this.options.show_filters_opened)?"wcs-timetable--filters-expanded":"wcs-timetable--filters-closed"),this.css_classes.push(void 0!==this.options.label_toggle.length&&this.options.label_toggle.length>0?"wcs-timetable--filters-with-toggle":"wcs-timetable--filters-without-toggle")}},methods:{extendObject:function t(e,s){return Object.keys(s).forEach(function(t){e[t]=s[t]}),e},apply_filters:function(){var t=Array.prototype.slice.call(arguments,0)}},data:function(){return{el_id:s,css_classes:["wcs-timetable--style-"+n.view],options:n,events:r,events_hases:[],events_filtered:[],filters:o,filters_active:this.getActiveFilters(o),loading:!1,loading_process:!1,loading_history:[],selected_day:!1,iso:!1,iso_expanded_items:[],start:void 0!==n.ts_start?n.ts_start:moment().utc().format("YYYY-MM-DD"),stop:void 0!==n.ts_start?n.ts_stop:moment().utc().add(parseInt(n.days)-1,"days").format("YYYY-MM-DD"),today:moment().format("YYYY-MM-DD"),calendar:{},calendarDay:null,selectedDay:null,dateRange:{start:null,stop:null},dateRangeHistory:[],status:{toggler:!0}}},mixins:l}))});